# Generated by Django 2.0.3 on 2018-03-15 20:22
from datetime import datetime

from django.db import migrations


def generate_results(apps, schema_editor) -> None:
    GeneticResult = apps.get_model('results', 'GeneticResult')
    factors = [
        'Cancer',
        'Canavan disease',
        'Cystic fibrosis',
        'Familial dysautonomia',
        'Sickle cell disease',
        'Tay-Sachs disease',
        'Bloom syndrome',
        'Dihydropyrimidine dehydrogenase deficiency'
    ]
    values = [
        'very low',
        'low',
        'average',
        'high',
        'very high'
    ]

    i = 0
    for user_id in range(0, 50):
        result = GeneticResult()
        result.user_id = user_id
        result.created_at = datetime.now()
        json = {}
        for factor in factors:
            i += 1
            if i % 3 == 0:
                continue
            json[factor] = values[i % len(values)]
        result.result = json
        result.save()


class Migration(migrations.Migration):

    dependencies = [
        ('results', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(generate_results)
    ]
